<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YSJ Neon Live Test</title>
  <meta name="description" content="Yellow Satin Jacket — Play Trailer.">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Yellow Satin Jacket">
  <meta property="og:description" content="Play Trailer">
  <meta property="og:image" content="https://yellowsatinjacket.com/social-preview.jpg">
  <meta property="og:url" content="https://yellowsatinjacket.com/">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Yellow Satin Jacket">
  <meta name="twitter:description" content="Play Trailer">
  <meta name="twitter:image" content="https://yellowsatinjacket.com/social-preview.jpg">
  <link rel="icon" type="image/png" href="./boo-favicon.png">
  <link rel="apple-touch-icon" href="./apple-touch-icon.png">

  <style>
    @font-face {
      font-family: 'NCLOutline';
      src: url('./NCLNeovibes-Outline.otf') format('opentype');
    }

    @font-face {
      font-family: 'NCLNeoRegular';
      src: url('./NCLNeovibes-Regular.otf') format('opentype');
    }

    :root {
      --neon: #FFDD66;
      --warm-light: #ffc766;
      --cool-light: #74b9ff;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      height: 100vh;
      position: relative;
      overflow: hidden;
      background-color: #000;
    }

    .hero {
      position: relative;
      width: 100%;
      height: 100vh;
      overflow: hidden;
      background: #1C1C1C;
      isolation: isolate;
    }

    .bg-img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
    }

    .mobile {
      display: none;
    }

    @media (max-width: 768px) {
      .desktop {
        display: none;
      }

      .mobile {
        display: block;
      }
    }

    .hero::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(ellipse at 50% 45%,
          rgba(0, 0, 0, 0.0) 0%,
          rgba(0, 0, 0, 0.4) 75%);
      pointer-events: none;
    }

    .silly-hitbox {
      position: absolute;
      width: 110px;
      height: 132px;
      transform: translate(-50%, -50%);
      border: 0;
      padding: 0;
      background: transparent;
      cursor: pointer;
      z-index: 9;
    }

    .silly-hitbox::before {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: 12px;
      opacity: 0;
      box-shadow: 0 0 14px rgba(90, 170, 255, 0.34);
      transition: opacity 180ms ease;
    }

    .silly-hitbox:hover::before,
    .silly-hitbox:focus-visible::before {
      opacity: 1;
    }

    @media (max-width: 768px) {
      .silly-hitbox {
        width: 98px;
        height: 118px;
      }
    }

    .vhs-static {
      position: absolute;
      inset: 0;
      pointer-events: none;
      opacity: 0.1;
      z-index: 8;
      background-image:
        repeating-radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.2) 0 1px, transparent 1px 3px),
        repeating-radial-gradient(circle at 70% 60%, rgba(255, 255, 255, 0.16) 0 1px, transparent 1px 3px),
        linear-gradient(90deg, rgba(255, 255, 255, 0.04), rgba(0, 0, 0, 0.04));
      background-size: 220px 220px, 180px 180px, 100% 100%;
      mix-blend-mode: screen;
      animation: staticShift 0.18s steps(2) infinite;
    }

    .glitch-gif {
      position: absolute;
      inset: 0;
      pointer-events: none;
      z-index: 12;
      opacity: 0.16;
      background-image: url('./glitch-overlay.gif');
      background-size: cover;
      background-position: center;
      mix-blend-mode: screen;
      animation: glitchDrift 6s linear infinite;
    }

    .neon-wrapper {
      position: absolute;
      top: 50%;
      left: 53%;
      transform: translate(-50%, -50%);
      font-size: 84px;
      letter-spacing: 0.12em;
      text-align: center;
      filter: none;
      z-index: 6;
      opacity: 1;
      mix-blend-mode: screen;
      padding: 0.19em 0.48em 0.30em 0.48em;
      border-radius: 0.14em;
      border: 1px solid rgba(255, 221, 102, 0.38);
      background: rgba(0, 0, 0, 0.62);
      box-shadow:
        inset 0 0 0.3em rgba(255, 221, 102, 0.12),
        0 0 0.5em rgba(255, 221, 102, 0.14);
      animation: wrapperFlicker 7s infinite;
    }

    .neon-wrapper:hover,
    .neon-wrapper:focus-within {
      mix-blend-mode: screen;
      animation: none;
      background: rgba(0, 0, 0, 0.72);
      border-color: rgba(255, 221, 102, 0.95);
      box-shadow:
        inset 0 0 0.6em rgba(255, 221, 102, 0.40),
        0 0 1.4em rgba(255, 221, 102, 0.65),
        0 0 3.0em rgba(255, 221, 102, 0.30);
    }

    .neon-wrapper::after {
      content: "";
      position: absolute;
      inset: 0.08em;
      border: 1px solid rgba(232, 232, 232, 0.2);
      border-radius: 0.1em;
      pointer-events: none;
    }

    .neon-link {
      position: relative;
      display: inline-block;
      text-decoration: none;
      cursor: pointer;
      line-height: 1;
      transform: scaleY(1.34);
      transform-origin: center;
      animation: flicker 6s infinite;
      white-space: nowrap;
      padding-bottom: 0.38em;
    }

    .neon-link::after {
      content: "";
      position: absolute;
      left: 0;
      right: 0.24em;
      top: calc(100% - 0.02em);
      height: 0.055em;
      border-radius: 999px;
      background: #ff4db5;
      pointer-events: none;
      animation: lineFlicker 4.2s 0.3s infinite;
    }

    .neon-link::before {
      content: "";
      position: absolute;
      top: calc(100% - 0.11em);
      right: 0;
      width: 0;
      height: 0;
      border-top: 0.11em solid transparent;
      border-bottom: 0.11em solid transparent;
      border-left: 0.22em solid #ff4db5;
      pointer-events: none;
      animation: arrowFlicker 3.5s 1.4s infinite;
    }

    .neon-fill {
      font-family: 'NCLNeoRegular';
      color: transparent;
      background: none;
      -webkit-background-clip: initial;
      background-clip: initial;
      text-shadow: none;
      mix-blend-mode: normal;
      transition: color 180ms ease, text-shadow 180ms ease, filter 180ms ease;
    }

    .neon-outline {
      position: absolute;
      top: 0;
      left: 0;
      font-family: 'NCLOutline';
      color: #E8E8E8;
      pointer-events: none;
      animation: outlineFlicker 5s 0.8s infinite;
    }

    .light-spill {
      position: absolute;
      top: 52%;
      left: 53%;
      transform: translate(-50%, -50%);
      width: 70%;
      height: 18%;
      background: radial-gradient(ellipse at center,
          rgba(253, 214, 102, 0.2) 0%,
          rgba(253, 214, 102, 0.1) 35%,
          rgba(253, 214, 102, 0.03) 64%,
          transparent 100%);
      mix-blend-mode: overlay;
      pointer-events: none;
      z-index: 5;
    }

    /* ── Hover / glow-on: kill flickers, blast to full brightness ── */
    .neon-link:hover,
    .neon-link:focus-visible,
    .neon-link:active,
    .neon-link.glow-on {
      mix-blend-mode: screen;
      outline: none;
    }

    .neon-link:hover .neon-fill,
    .neon-link:focus-visible .neon-fill,
    .neon-link:active .neon-fill,
    .neon-link.glow-on .neon-fill {
      color: #FFDD66;
      text-shadow:
        0 0 4px rgba(255, 244, 196, 0.98),
        0 0 16px rgba(255, 221, 102, 0.96),
        0 0 34px rgba(255, 221, 102, 0.8),
        0 0 56px rgba(255, 221, 102, 0.58);
      filter: brightness(1.15) saturate(1.08);
    }

    .neon-link:hover .neon-outline,
    .neon-link:focus-visible .neon-outline,
    .neon-link:active .neon-outline,
    .neon-link.glow-on .neon-outline {
      animation: none;
      color: #FFDD66;
      opacity: 1;
      text-shadow:
        0 0 3px rgba(255, 255, 255, 1.0),
        0 0 10px rgba(255, 244, 196, 0.95),
        0 0 24px rgba(255, 221, 102, 0.75),
        0 0 48px rgba(255, 221, 102, 0.45);
    }

    .neon-link:hover::after,
    .neon-link:focus-visible::after,
    .neon-link:active::after,
    .neon-link.glow-on::after {
      animation: none;
      box-shadow:
        0 0 4px rgba(255, 77, 181, 1.0),
        0 0 14px rgba(255, 77, 181, 0.9),
        0 0 28px rgba(255, 77, 181, 0.55);
    }

    .neon-link:hover::before,
    .neon-link:focus-visible::before,
    .neon-link:active::before,
    .neon-link.glow-on::before {
      animation: none;
      filter:
        drop-shadow(0 0 3px rgba(255, 77, 181, 1.0)) drop-shadow(0 0 10px rgba(255, 77, 181, 0.85));
    }

    .lightbox {
      position: fixed;
      inset: 0;
      display: none;
      place-items: center;
      background: rgba(0, 0, 0, 0.84);
      z-index: 20;
      padding: 24px;
    }

    .lightbox.is-open {
      display: grid;
    }

    .lightbox-dialog {
      width: min(92vw, 1100px);
      aspect-ratio: 16 / 9;
      background: #000;
      border: 1px solid rgba(255, 46, 159, 0.45);
      box-shadow:
        0 0 12px rgba(255, 46, 159, 0.55),
        0 0 38px rgba(255, 46, 159, 0.32);
      position: relative;
    }

    .lightbox-frame {
      width: 100%;
      height: 100%;
      border: 0;
    }

    .lightbox-close {
      position: absolute;
      top: -42px;
      right: 0;
      border: 1px solid rgba(255, 255, 255, 0.6);
      background: rgba(0, 0, 0, 0.7);
      color: #fff;
      font-family: 'NCLNeoRegular', sans-serif;
      letter-spacing: 0.08em;
      padding: 7px 11px;
      cursor: pointer;
    }

    .lightbox-close:hover,
    .lightbox-close:focus-visible {
      border-color: var(--neon);
      box-shadow: 0 0 10px rgba(255, 46, 159, 0.45);
      outline: none;
    }

    .silly-overlay {
      position: fixed;
      inset: 0;
      display: none;
      z-index: 40;
      background: #050505;
      overflow: hidden;
    }

    .silly-overlay.is-open {
      display: block;
    }

    .silly-bg {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0.84;
    }

    .silly-dim {
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at center, transparent 25%, rgba(0, 0, 0, 0.6) 100%);
    }

    .silly-title {
      position: absolute;
      left: 50%;
      bottom: 10%;
      transform: translateX(-50%);
      margin: 0;
      font-family: 'NCLNeoRegular', sans-serif;
      font-size: clamp(2rem, 8vw, 6rem);
      letter-spacing: 0.1em;
      color: #ff4db5;
      text-shadow: 0 0 10px rgba(255, 77, 181, 0.9), 0 0 28px rgba(255, 77, 181, 0.46);
      z-index: 2;
    }

    .silly-exit {
      position: absolute;
      top: 18px;
      right: 18px;
      z-index: 3;
      border: 1px solid rgba(255, 255, 255, 0.8);
      background: rgba(0, 0, 0, 0.55);
      color: #fff;
      padding: 8px 12px;
      cursor: pointer;
      font-family: 'NCLNeoRegular', sans-serif;
      letter-spacing: 0.08em;
    }

    .silly-exit:hover,
    .silly-exit:focus-visible {
      border-color: #ff4db5;
      box-shadow: 0 0 12px rgba(255, 77, 181, 0.45);
      outline: none;
    }

    @keyframes flicker {

      0%,
      14%,
      16%,
      32%,
      34%,
      62%,
      64%,
      100% {
        opacity: 1;
      }

      15%,
      33%,
      63% {
        opacity: 0.88;
      }
    }


    /* Box border — glow pulses on/off, border always faintly visible */
    @keyframes wrapperFlicker {

      0%,
      17%,
      21%,
      54%,
      58%,
      81%,
      85%,
      100% {
        border-color: rgba(255, 221, 102, 0.55);
        box-shadow:
          inset 0 0 0.4em rgba(255, 221, 102, 0.22),
          0 0 0.9em rgba(255, 221, 102, 0.38),
          0 0 2.2em rgba(255, 221, 102, 0.14);
      }

      19% {
        border-color: rgba(255, 221, 102, 0.14);
        box-shadow: none;
      }

      56% {
        border-color: rgba(255, 221, 102, 0.10);
        box-shadow: none;
      }

      83% {
        border-color: rgba(255, 221, 102, 0.08);
        box-shadow: none;
      }
    }


    /* White stroke — glow blinks, text always visible so it reads at rest */
    @keyframes outlineFlicker {

      0%,
      27%,
      31%,
      62%,
      66%,
      100% {
        opacity: 1;
        text-shadow:
          0 0 3px rgba(255, 255, 255, 1.0),
          0 0 10px rgba(255, 255, 255, 0.90),
          0 0 24px rgba(232, 232, 232, 0.70),
          0 0 48px rgba(255, 221, 102, 0.40),
          0 0 80px rgba(255, 221, 102, 0.18);
      }

      29% {
        opacity: 0.72;
        text-shadow: none;
      }

      64% {
        opacity: 0.68;
        text-shadow: none;
      }
    }


    /* Pink underline — glow blinks hard, line stays faint when off */
    @keyframes lineFlicker {

      0%,
      37%,
      41%,
      73%,
      77%,
      100% {
        box-shadow:
          0 0 4px rgba(255, 77, 181, 1.0),
          0 0 14px rgba(255, 77, 181, 0.90),
          0 0 30px rgba(255, 77, 181, 0.55);
        opacity: 1;
      }

      39% {
        box-shadow: none;
        opacity: 0.28;
      }

      75% {
        box-shadow: none;
        opacity: 0.22;
      }
    }


    /* Pink arrow — fastest blink, offset from line */
    @keyframes arrowFlicker {

      0%,
      34%,
      38%,
      69%,
      73%,
      100% {
        filter:
          drop-shadow(0 0 3px rgba(255, 77, 181, 1.0)) drop-shadow(0 0 12px rgba(255, 77, 181, 0.90));
        opacity: 1;
      }

      36% {
        filter: none;
        opacity: 0.30;
      }

      71% {
        filter: none;
        opacity: 0.25;
      }
    }

    @keyframes staticShift {
      0% {
        background-position: 0 0, 0 0, 0 0;
      }

      50% {
        background-position: 12px -8px, -10px 7px, 0 0;
      }

      100% {
        background-position: -8px 10px, 9px -12px, 0 0;
      }
    }

    @keyframes glitchDrift {
      0% {
        background-position: center;
      }

      50% {
        background-position: 52% 48%;
      }

      100% {
        background-position: center;
      }
    }

    /* ══════════════════════════════════════════
       Hotspot overlay system
       ══════════════════════════════════════════ */
    .hotspot {
      position: absolute;
      z-index: 7;
      cursor: pointer;
      border: 0;
      padding: 0;
      background: transparent;
      transition: transform 0.22s ease;
    }

    .hotspot:hover,
    .hotspot:focus-visible {
      transform: scale(1.03);
      outline: none;
      background: rgba(255, 221, 102, 0.25);
      box-shadow: 0 0 12px rgba(255, 221, 102, 0.4);
      border-radius: 6px;
    }

    .hotspot--cool:hover,
    .hotspot--cool:focus-visible {
      background: rgba(116, 185, 255, 0.25);
      box-shadow: 0 0 12px rgba(116, 185, 255, 0.4);
    }

    .hotspot--pink:hover,
    .hotspot--pink:focus-visible {
      background: rgba(255, 77, 181, 0.25);
      box-shadow: 0 0 12px rgba(255, 77, 181, 0.4);
    }

    /* The transparent cutout image */
    .hotspot-cutout {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      opacity: 0;
      transition: opacity 0.28s ease, filter 0.28s ease;
      pointer-events: none;
    }

    /* Default warm glow (matches scene lighting) */
    .hotspot:hover .hotspot-cutout,
    .hotspot:focus-visible .hotspot-cutout {
      opacity: 1;
      filter:
        brightness(1.35)
        drop-shadow(0 0 6px rgba(255, 221, 102, 0.85))
        drop-shadow(0 0 18px rgba(255, 221, 102, 0.50))
        drop-shadow(0 0 40px rgba(255, 221, 102, 0.25));
    }

    /* Cool blue glow variant */
    .hotspot--cool:hover .hotspot-cutout,
    .hotspot--cool:focus-visible .hotspot-cutout {
      filter:
        brightness(1.3)
        drop-shadow(0 0 6px rgba(116, 185, 255, 0.85))
        drop-shadow(0 0 18px rgba(116, 185, 255, 0.50))
        drop-shadow(0 0 40px rgba(116, 185, 255, 0.25));
    }

    /* Pink neon glow variant */
    .hotspot--pink:hover .hotspot-cutout,
    .hotspot--pink:focus-visible .hotspot-cutout {
      filter:
        brightness(1.3)
        drop-shadow(0 0 6px rgba(255, 77, 181, 0.85))
        drop-shadow(0 0 18px rgba(255, 77, 181, 0.50))
        drop-shadow(0 0 40px rgba(255, 77, 181, 0.25));
    }

    /* Hover label tooltip */
    .hotspot-label {
      position: absolute;
      bottom: -26px;
      left: 50%;
      transform: translateX(-50%);
      font-family: 'NCLNeoRegular', sans-serif;
      font-size: 11px;
      letter-spacing: 0.12em;
      color: #fff;
      white-space: nowrap;
      opacity: 0;
      transition: opacity 0.22s ease;
      text-shadow: 0 1px 6px rgba(0, 0, 0, 0.9);
      pointer-events: none;
    }

    .hotspot:hover .hotspot-label,
    .hotspot:focus-visible .hotspot-label {
      opacity: 1;
    }

    /* ── Debug mode (add ?debug to URL) ── */
    .debug-hotspots .hotspot {
      outline: 2px dashed rgba(255, 0, 255, 0.6);
      background: rgba(255, 0, 255, 0.08);
    }

    .debug-hotspots .hotspot-label {
      opacity: 1 !important;
      background: rgba(0, 0, 0, 0.75);
      padding: 2px 6px;
      border-radius: 3px;
    }

    .debug-hotspots .hotspot::after {
      content: attr(data-hotspot-id);
      position: absolute;
      top: 2px;
      left: 2px;
      font-size: 10px;
      color: #ff00ff;
      font-family: monospace;
      background: rgba(0, 0, 0, 0.7);
      padding: 1px 4px;
      pointer-events: none;
    }

    /* ══════════════════════════════════════════
       Hotspot modal
       ══════════════════════════════════════════ */
    .hotspot-modal {
      position: fixed;
      inset: 0;
      display: none;
      place-items: center;
      background: rgba(0, 0, 0, 0.82);
      z-index: 50;
      padding: 24px;
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
    }

    .hotspot-modal.is-open {
      display: grid;
      animation: modalFadeIn 0.3s ease;
    }

    .hotspot-modal-dialog {
      position: relative;
      width: min(88vw, 520px);
      padding: 48px 40px 40px;
      background: rgba(12, 12, 12, 0.95);
      border: 1px solid rgba(255, 221, 102, 0.35);
      border-radius: 12px;
      box-shadow:
        0 0 20px rgba(255, 221, 102, 0.15),
        0 0 60px rgba(255, 221, 102, 0.08),
        inset 0 0 30px rgba(0, 0, 0, 0.4);
      text-align: center;
      animation: modalSlideUp 0.35s ease;
    }

    .hotspot-modal-title {
      margin: 0 0 16px;
      font-family: 'NCLNeoRegular', sans-serif;
      font-size: clamp(1.6rem, 5vw, 2.8rem);
      letter-spacing: 0.1em;
      color: #FFDD66;
      text-shadow:
        0 0 6px rgba(255, 244, 196, 0.7),
        0 0 20px rgba(255, 221, 102, 0.5),
        0 0 40px rgba(255, 221, 102, 0.25);
    }

    .hotspot-modal-body {
      margin: 0 0 28px;
      font-family: 'NCLNeoRegular', sans-serif;
      font-size: 14px;
      letter-spacing: 0.06em;
      line-height: 1.6;
      color: rgba(232, 232, 232, 0.75);
    }

    .hotspot-modal-cta {
      display: inline-block;
      padding: 10px 28px;
      font-family: 'NCLNeoRegular', sans-serif;
      font-size: 13px;
      letter-spacing: 0.12em;
      color: #fff;
      background: transparent;
      border: 1px solid rgba(255, 77, 181, 0.6);
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .hotspot-modal-cta:hover,
    .hotspot-modal-cta:focus-visible {
      border-color: #ff4db5;
      box-shadow:
        0 0 8px rgba(255, 77, 181, 0.6),
        0 0 24px rgba(255, 77, 181, 0.3);
      outline: none;
    }

    .hotspot-modal-close {
      position: absolute;
      top: 12px;
      right: 14px;
      border: 1px solid rgba(255, 255, 255, 0.4);
      background: rgba(0, 0, 0, 0.5);
      color: #fff;
      font-family: 'NCLNeoRegular', sans-serif;
      font-size: 12px;
      letter-spacing: 0.08em;
      padding: 5px 10px;
      cursor: pointer;
      border-radius: 4px;
      transition: all 0.2s ease;
    }

    .hotspot-modal-close:hover,
    .hotspot-modal-close:focus-visible {
      border-color: var(--neon);
      box-shadow: 0 0 10px rgba(255, 77, 181, 0.45);
      outline: none;
    }

    @keyframes modalFadeIn {
      from { opacity: 0; }
      to   { opacity: 1; }
    }

    @keyframes modalSlideUp {
      from { opacity: 0; transform: translateY(20px) scale(0.96); }
      to   { opacity: 1; transform: translateY(0) scale(1); }
    }
  </style>
</head>

<body>
  <div class="hero">
    <img src="./bg_desktop_fast.webp" class="bg-img desktop" alt="" />
    <img src="./bg_mobile_fast.webp" class="bg-img mobile" alt="" />
    <button class="silly-hitbox" type="button" aria-label="Open silly mode"></button>
    <div class="light-spill" aria-hidden="true"></div>

    <!-- ══ Hotspot overlays ══════════════════════════════════════ -->
    <!-- Picture 1: Large movie poster (top shelf) -->
    <button class="hotspot hotspot--cool" type="button"
            data-hotspot-id="picture1"
            aria-label="View Midnight poster">
      <img class="hotspot-cutout" src="./assets/hotspots/picture1.webp" alt="" />
      <span class="hotspot-label">MIDNIGHT</span>
    </button>

    <!-- Picture 2: Small movie poster (overlapping) -->
    <button class="hotspot hotspot--pink" type="button"
            data-hotspot-id="picture2"
            aria-label="View Forged in Fury poster">
      <img class="hotspot-cutout" src="./assets/hotspots/picture2.webp" alt="" />
      <span class="hotspot-label">FORGED IN FURY</span>
    </button>

    <!-- Jacket 1: Leftmost hanging jacket -->
    <button class="hotspot" type="button"
            data-hotspot-id="jacket1"
            aria-label="View Jacket 1">
      <img class="hotspot-cutout" src="./assets/hotspots/jacket1.webp" alt="" />
      <span class="hotspot-label">JACKET 1</span>
    </button>

    <!-- Jacket 2: Middle hanging jacket -->
    <button class="hotspot" type="button"
            data-hotspot-id="jacket2"
            aria-label="View Jacket 2">
      <img class="hotspot-cutout" src="./assets/hotspots/jacket2.webp" alt="" />
      <span class="hotspot-label">JACKET 2</span>
    </button>

    <!-- Jacket 3: Right hanging jacket -->
    <button class="hotspot" type="button"
            data-hotspot-id="jacket3"
            aria-label="View Jacket 3">
      <img class="hotspot-cutout" src="./assets/hotspots/jacket3.webp" alt="" />
      <span class="hotspot-label">JACKET 3</span>
    </button>

    <!-- AirPods / small device -->
    <button class="hotspot hotspot--cool" type="button"
            data-hotspot-id="airpods"
            aria-label="View AirPods">
      <img class="hotspot-cutout" src="./assets/hotspots/airpods.webp" alt="" />
      <span class="hotspot-label">AIRPODS</span>
    </button>
    <!-- ══ End hotspots ══════════════════════════════════════════ -->

    <div class="neon-wrapper">
      <a class="neon-link" href="https://vimeo.com/1161209754?share=copy&fl=sv&fe=ci" aria-label="Play trailer"
        data-lightbox-trigger>
        <span class="neon-fill">PLAY TRAILER</span>
        <span class="neon-outline">PLAY TRAILER</span>
      </a>
    </div>
  </div>

  <div class="vhs-static" aria-hidden="true"></div>
  <div class="glitch-gif" aria-hidden="true"></div>
  <div class="lightbox" id="trailerLightbox" aria-hidden="true">
    <div class="lightbox-dialog" role="dialog" aria-modal="true" aria-label="YSJ trailer video">
      <button class="lightbox-close" type="button" aria-label="Close trailer">CLOSE</button>
      <iframe class="lightbox-frame" id="trailerFrame" title="YSJ Trailer" src=""
        allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>
    </div>
  </div>

  <!-- ══ Hotspot modal ══ -->
  <div class="hotspot-modal" id="hotspotModal" aria-hidden="true">
    <div class="hotspot-modal-dialog" role="dialog" aria-modal="true">
      <button class="hotspot-modal-close" type="button" id="hotspotModalClose">CLOSE</button>
      <h2 class="hotspot-modal-title" id="hotspotModalTitle">ITEM</h2>
      <p class="hotspot-modal-body" id="hotspotModalBody">Placeholder description.</p>
      <button class="hotspot-modal-cta" type="button" id="hotspotModalCta">COMING SOON</button>
    </div>
  </div>

  <section class="silly-overlay" id="sillyOverlay" aria-hidden="true">
    <img class="silly-bg" src="./assets/silly_bg.gif" alt="" />
    <div class="silly-dim"></div>
    <button class="silly-exit" type="button" id="sillyExit">EXIT SILLY MODE</button>
    <h2 class="silly-title">SILLY MODE</h2>
  </section>

  <script>
    const hero = document.querySelector('.hero');
    const desktopBg = document.querySelector('.bg-img.desktop');
    const mobileBg = document.querySelector('.bg-img.mobile');
    const neonWrapper = document.querySelector('.neon-wrapper');
    const lightSpill = document.querySelector('.light-spill');
    const sillyHitbox = document.querySelector('.silly-hitbox');
    const trigger = document.querySelector('[data-lightbox-trigger]');
    const lightbox = document.getElementById('trailerLightbox');
    const closeButton = document.querySelector('.lightbox-close');
    const frame = document.getElementById('trailerFrame');
    const sillyOverlay = document.getElementById('sillyOverlay');
    const sillyExit = document.getElementById('sillyExit');
    const embedUrl = 'https://player.vimeo.com/video/1161209754?autoplay=1';

    /* ── Debug mode: add ?debug to URL ────────────────────────── */
    const DEBUG = new URLSearchParams(window.location.search).has('debug');
    if (DEBUG) document.body.classList.add('debug-hotspots');

    const pin = {
      desktop: { x: 0.51, y: 0.485 },
      mobile: { x: 0.51, y: 0.485 },
      spillYOffset: 0.02,
      sillySpotDesktop: { x: 0.742, y: 0.878 },
      sillySpotMobile: { x: 0.812, y: 0.872 },
      fontScaleDesktop: 0.105,
      fontScaleMobile: 0.098,
      fontMinDesktop: 54,
      fontMaxDesktop: 155,
      fontMinMobile: 36,
      fontMaxMobile: 115,
      shelfWidthDesktop: 0.76,
      shelfWidthMobile: 0.84,
      shelfHeightDesktop: 0.14,
      shelfHeightMobile: 0.16
    };

    /* ── Hotspot configuration ────────────────────────────────── */
    // Each hotspot defines a bounding box as fractions of the
    // background image's natural dimensions.
    //   x, y = top-left corner (0–1)
    //   w, h = width and height (0–1)
    //
    // ⚠️  These are APPROXIMATE — fine-tune with ?debug mode!
    //     The debug overlay shows dashed outlines + IDs.

    const hotspotConfig = {
      picture1: {
        label: 'MIDNIGHT',
        description: 'A thriller set in the neon-lit underworld. Coming soon.',
        cta: 'COMING SOON',
        desktop: { x: 0.22, y: 0.02, w: 0.30, h: 0.38 },
        mobile:  { x: 0.22, y: 0.02, w: 0.30, h: 0.38 }
      },
      picture2: {
        label: 'FORGED IN FURY',
        description: 'An action-packed tale of revenge. Coming soon.',
        cta: 'COMING SOON',
        desktop: { x: 0.28, y: 0.14, w: 0.15, h: 0.25 },
        mobile:  { x: 0.28, y: 0.14, w: 0.15, h: 0.25 }
      },
      jacket1: {
        label: 'JACKET 1',
        description: 'The original Yellow Satin Jacket. Limited edition.',
        cta: 'VIEW DETAILS',
        desktop: { x: 0.14, y: 0.60, w: 0.20, h: 0.38 },
        mobile:  { x: 0.14, y: 0.60, w: 0.20, h: 0.38 }
      },
      jacket2: {
        label: 'JACKET 2',
        description: 'The classic cut. Premium satin finish.',
        cta: 'VIEW DETAILS',
        desktop: { x: 0.30, y: 0.60, w: 0.20, h: 0.38 },
        mobile:  { x: 0.30, y: 0.60, w: 0.20, h: 0.38 }
      },
      jacket3: {
        label: 'JACKET 3',
        description: 'The statement piece. Bold and unmistakable.',
        cta: 'VIEW DETAILS',
        desktop: { x: 0.46, y: 0.62, w: 0.20, h: 0.36 },
        mobile:  { x: 0.46, y: 0.62, w: 0.20, h: 0.36 }
      },
      airpods: {
        label: 'AIRPODS',
        description: 'Custom AirPods. Sound meets style.',
        cta: 'COMING SOON',
        desktop: { x: 0.66, y: 0.56, w: 0.12, h: 0.24 },
        mobile:  { x: 0.66, y: 0.56, w: 0.12, h: 0.24 }
      }
    };

    // Modal elements
    const hotspotModal = document.getElementById('hotspotModal');
    const hotspotModalTitle = document.getElementById('hotspotModalTitle');
    const hotspotModalBody = document.getElementById('hotspotModalBody');
    const hotspotModalCta = document.getElementById('hotspotModalCta');
    const hotspotModalClose = document.getElementById('hotspotModalClose');

    function openHotspotModal(id) {
      const cfg = hotspotConfig[id];
      if (!cfg) return;
      hotspotModalTitle.textContent = cfg.label || id.toUpperCase();
      hotspotModalBody.textContent = cfg.description || 'Details coming soon.';
      hotspotModalCta.textContent = cfg.cta || 'COMING SOON';
      hotspotModal.classList.add('is-open');
      hotspotModal.setAttribute('aria-hidden', 'false');
    }

    function closeHotspotModal() {
      hotspotModal.classList.remove('is-open');
      hotspotModal.setAttribute('aria-hidden', 'true');
    }

    hotspotModalClose.addEventListener('click', closeHotspotModal);
    hotspotModalCta.addEventListener('click', closeHotspotModal);
    hotspotModal.addEventListener('click', (e) => {
      if (e.target === hotspotModal) closeHotspotModal();
    });

    // Collect hotspot DOM elements & wire up click → modal
    const hotspotEls = {};
    document.querySelectorAll('.hotspot[data-hotspot-id]').forEach(el => {
      const id = el.dataset.hotspotId;
      hotspotEls[id] = el;
      el.addEventListener('click', () => openHotspotModal(id));
    });

    function getActiveBg() {
      const desktopVisible = window.getComputedStyle(desktopBg).display !== 'none';
      return desktopVisible ? desktopBg : mobileBg;
    }

    /* ── Position a single hotspot ────────────────────────────── */
    function positionHotspot(id, offsetX, offsetY, drawnWidth, drawnHeight, mobileMode) {
      const el = hotspotEls[id];
      const cfg = hotspotConfig[id];
      if (!el || !cfg) return;

      const box = mobileMode ? cfg.mobile : cfg.desktop;
      const left = offsetX + box.x * drawnWidth;
      const top  = offsetY + box.y * drawnHeight;
      const w    = box.w * drawnWidth;
      const h    = box.h * drawnHeight;

      el.style.left   = `${left}px`;
      el.style.top    = `${top}px`;
      el.style.width  = `${w}px`;
      el.style.height = `${h}px`;
    }

    function syncPinnedNeon() {
      const activeBg = getActiveBg();
      const heroWidth = hero.clientWidth;
      const heroHeight = hero.clientHeight;
      const naturalWidth = activeBg.naturalWidth;
      const naturalHeight = activeBg.naturalHeight;
      if (!heroWidth || !heroHeight || !naturalWidth || !naturalHeight) return;

      const scale = Math.max(heroWidth / naturalWidth, heroHeight / naturalHeight);
      const drawnWidth = naturalWidth * scale;
      const drawnHeight = naturalHeight * scale;
      const offsetX = (heroWidth - drawnWidth) / 2;
      const offsetY = (heroHeight - drawnHeight) / 2;

      const anchor = activeBg === mobileBg ? pin.mobile : pin.desktop;
      const left = offsetX + (anchor.x * drawnWidth);
      const top = offsetY + (anchor.y * drawnHeight);
      const mobileMode = activeBg === mobileBg;
      const fontScale = mobileMode ? pin.fontScaleMobile : pin.fontScaleDesktop;
      const fontMin = mobileMode ? pin.fontMinMobile : pin.fontMinDesktop;
      const fontMax = mobileMode ? pin.fontMaxMobile : pin.fontMaxDesktop;
      let fontSize = Math.max(fontMin, Math.min(fontMax, drawnWidth * fontScale));

      neonWrapper.style.left = `${left}px`;
      neonWrapper.style.top = `${top}px`;
      neonWrapper.style.fontSize = `${fontSize}px`;
      lightSpill.style.left = `${left}px`;
      lightSpill.style.top = `${top + (pin.spillYOffset * drawnHeight)}px`;

      // Iterative shrink: keep reducing font size until sign fits shelf bounds.
      // Handles extreme browser zoom levels (150%, 250%) without clipping.
      const maxShelfWidth = drawnWidth * (mobileMode ? pin.shelfWidthMobile : pin.shelfWidthDesktop);
      const maxShelfHeight = drawnHeight * (mobileMode ? pin.shelfHeightMobile : pin.shelfHeightDesktop);
      const HARD_MIN = 10; // allow down to 10px at extreme zoom
      for (let i = 0; i < 30; i++) {
        neonWrapper.style.fontSize = `${fontSize}px`;
        const r = neonWrapper.getBoundingClientRect();
        if (r.width <= maxShelfWidth && r.height <= maxShelfHeight) break;
        const shrink = Math.min(maxShelfWidth / r.width, maxShelfHeight / r.height);
        const next = Math.max(HARD_MIN, fontSize * shrink * 0.97); // 3% safety margin
        if (next === fontSize) break; // can't shrink further
        fontSize = next;
      }
      neonWrapper.style.fontSize = `${fontSize}px`;

      const sillySpot = activeBg === mobileBg ? pin.sillySpotMobile : pin.sillySpotDesktop;
      const sillyLeft = offsetX + (sillySpot.x * drawnWidth);
      const sillyTop = offsetY + (sillySpot.y * drawnHeight);
      sillyHitbox.style.left = `${sillyLeft}px`;
      sillyHitbox.style.top = `${sillyTop}px`;

      /* ── Position all hotspots ── */
      for (const id in hotspotConfig) {
        positionHotspot(id, offsetX, offsetY, drawnWidth, drawnHeight, mobileMode);
      }
    }

    function openLightbox(event) {
      event.preventDefault();
      lightbox.classList.add('is-open');
      lightbox.setAttribute('aria-hidden', 'false');
      frame.src = embedUrl;
    }

    function closeLightbox() {
      lightbox.classList.remove('is-open');
      lightbox.setAttribute('aria-hidden', 'true');
      frame.src = '';
    }

    function openSillyMode() {
      if (lightbox.classList.contains('is-open')) closeLightbox();
      sillyOverlay.classList.add('is-open');
      sillyOverlay.setAttribute('aria-hidden', 'false');
    }

    function closeSillyMode() {
      sillyOverlay.classList.remove('is-open');
      sillyOverlay.setAttribute('aria-hidden', 'true');
    }

    trigger.addEventListener('click', openLightbox);
    trigger.addEventListener('pointerenter', () => trigger.classList.add('glow-on'));
    trigger.addEventListener('pointerleave', () => trigger.classList.remove('glow-on'));
    trigger.addEventListener('focus', () => trigger.classList.add('glow-on'));
    trigger.addEventListener('blur', () => trigger.classList.remove('glow-on'));
    trigger.addEventListener('touchstart', () => {
      trigger.classList.add('glow-on');
      window.setTimeout(() => trigger.classList.remove('glow-on'), 900);
    }, { passive: true });
    sillyHitbox.addEventListener('click', openSillyMode);
    closeButton.addEventListener('click', closeLightbox);
    sillyExit.addEventListener('click', closeSillyMode);
    window.addEventListener('resize', syncPinnedNeon);
    window.addEventListener('orientationchange', syncPinnedNeon);
    desktopBg.addEventListener('load', syncPinnedNeon);
    mobileBg.addEventListener('load', syncPinnedNeon);
    new ResizeObserver(syncPinnedNeon).observe(hero);

    lightbox.addEventListener('click', (event) => {
      if (event.target === lightbox) closeLightbox();
    });

    document.addEventListener('keydown', (event) => {
      if (event.key === 'Escape') {
        if (hotspotModal.classList.contains('is-open')) return closeHotspotModal();
        if (lightbox.classList.contains('is-open')) return closeLightbox();
        if (sillyOverlay.classList.contains('is-open')) return closeSillyMode();
      }
    });

    syncPinnedNeon();
  </script>
</body>

</html>